app:
  description: AIæœåŠ¡ä¸‰å†œ
  icon: ğŸ¤–
  icon_background: '#FFEAD5'
  mode: advanced-chat
  name: AI FOR ä¸‰å†œ
  use_icon_as_answer_icon: true
dependencies:
- current_identifier: null
  type: marketplace
  value:
    marketplace_plugin_unique_identifier: langgenius/tongyi:0.0.18@ca40ec06ff35ca611fa5fdf99a15eeb007a9fe3bd725c9ff6d0436469ab0edc9
- current_identifier: null
  type: marketplace
  value:
    marketplace_plugin_unique_identifier: langgenius/gemini:0.1.6@eab267a9b9bf70e44b9b7d03690ec2d6e9814aa754d5980db840d577502a5c93
- current_identifier: null
  type: marketplace
  value:
    marketplace_plugin_unique_identifier: langgenius/deepseek:0.0.5@fd6efd37c2a931911de8ab9ca3ba2da303bef146d45ee87ad896b04b36d09403
kind: app
version: 0.3.0
workflow:
  conversation_variables: []
  environment_variables: []
  features:
    file_upload:
      allowed_file_extensions: []
      allowed_file_types:
      - image
      - document
      - audio
      - video
      allowed_file_upload_methods:
      - remote_url
      - local_file
      enabled: true
      fileUploadConfig:
        audio_file_size_limit: 50
        batch_count_limit: 5
        file_size_limit: 15
        image_file_size_limit: 10
        video_file_size_limit: 100
        workflow_file_upload_limit: 10
      image:
        enabled: false
        number_limits: 3
        transfer_methods:
        - local_file
        - remote_url
      number_limits: 3
    opening_statement: 'æ‚¨å¥½ï¼æ¬¢è¿ä½¿ç”¨â€œAI for ä¸‰å†œâ€ï¼Œæˆ‘æ˜¯æ‚¨çš„æ™ºèƒ½åŠ©æ‰‹ã€‚

      æ— è®ºæ‚¨éœ€è¦å¤©æ°”é¢„æŠ¥ã€ä½œç‰©ç®¡ç†å»ºè®®è¿˜æ˜¯å¸‚åœºåŠ¨æ€ï¼Œæˆ‘éƒ½åœ¨è¿™é‡Œå¸®åŠ©æ‚¨ã€‚è®©æˆ‘ä»¬ä¸€èµ·åˆ©ç”¨ç§‘æŠ€çš„åŠ›é‡ï¼Œä½¿å†œä¸šç”Ÿäº§å’Œå†œæ‘ç”Ÿæ´»æ›´åŠ ä¾¿æ·é«˜æ•ˆã€‚

      è¯·é—®ä»Šå¤©æœ‰ä»€ä¹ˆæˆ‘å¯ä»¥å¸®æ‚¨çš„å—ï¼Ÿ'
    retriever_resource:
      enabled: false
    sensitive_word_avoidance:
      enabled: false
    speech_to_text:
      enabled: true
    suggested_questions: []
    suggested_questions_after_answer:
      enabled: true
    text_to_speech:
      autoPlay: enabled
      enabled: true
      language: zh-Hans
      voice: sambert-zhiqian-v1
  graph:
    edges:
    - data:
        sourceType: llm
        targetType: answer
      id: llm-answer
      selected: false
      source: llm
      sourceHandle: source
      target: answer
      targetHandle: target
      type: custom
    - data:
        isInLoop: false
        sourceType: agent
        targetType: answer
      id: 1747820994909-source-1747821003398-target
      source: '1747820994909'
      sourceHandle: source
      target: '1747821003398'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: llm
        targetType: answer
      id: 1747822271585-source-1747822365809-target
      source: '1747822271585'
      sourceHandle: source
      target: '1747822365809'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: start
        targetType: llm
      id: 1747793456778-source-1747823025830-target
      source: '1747793456778'
      sourceHandle: source
      target: '1747823025830'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: llm
        targetType: code
      id: 1747823025830-source-1747823699465-target
      source: '1747823025830'
      sourceHandle: source
      target: '1747823699465'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: code
        targetType: if-else
      id: 1747823699465-source-1747824423426-target
      source: '1747823699465'
      sourceHandle: source
      target: '1747824423426'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: agent
      id: 1747824423426-532b1a14-c497-4cd0-b7a3-c4d91d826986-1747820994909-target
      source: '1747824423426'
      sourceHandle: 532b1a14-c497-4cd0-b7a3-c4d91d826986
      target: '1747820994909'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: knowledge-retrieval
        targetType: llm
      id: 1747825801740-source-1747822271585-target
      selected: false
      source: '1747825801740'
      sourceHandle: source
      target: '1747822271585'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: knowledge-retrieval
      id: 1747824423426-false-1747825801740-target
      source: '1747824423426'
      sourceHandle: 'false'
      target: '1747825801740'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: llm
      id: 1747824423426-true-1747822271585-target
      source: '1747824423426'
      sourceHandle: 'true'
      target: '1747822271585'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: llm
      id: 1747824423426-45aa4840-0384-4dee-b422-a2d87a56195d-1747831964437-target
      selected: false
      source: '1747824423426'
      sourceHandle: 45aa4840-0384-4dee-b422-a2d87a56195d
      target: '1747831964437'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: llm
        targetType: llm
      id: 1747831964437-source-llm-target
      source: '1747831964437'
      sourceHandle: source
      target: llm
      targetHandle: target
      type: custom
      zIndex: 0
    nodes:
    - data:
        desc: ''
        selected: false
        title: å¼€å§‹
        type: start
        variables: []
      height: 53
      id: '1747793456778'
      position:
        x: -934.6687564140714
        y: -192.8988492958195
      positionAbsolute:
        x: -934.6687564140714
        y: -192.8988492958195
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: true
          variable_selector:
          - '1747831964437'
          - text
        desc: ''
        memory:
          query_prompt_template: '{{#sys.query#}}'
          role_prefix:
            assistant: ''
            user: ''
          window:
            enabled: true
            size: 50
        model:
          completion_params:
            temperature: 1
          mode: chat
          name: gemini-2.5-pro-preview-05-06
          provider: langgenius/gemini/google
        prompt_template:
        - id: c91eb4e1-a322-42b2-8c02-ac2c51f78ef6
          role: system
          text: ä½ æ˜¯AI FOR ä¸‰å†œ æ™ºèƒ½ä½“
        - id: 6f08bfbd-79fd-418b-8d33-13590448e52c
          role: user
          text: "AI FOR ä¸‰å†œ æ™ºèƒ½ä½“ - å¤šæ¨¡æ€æ•°æ®å¤„ç†æç¤ºè¯\n\nå·¥ä½œæµç¨‹è¯´æ˜ï¼š\n\næœ¬æ™ºèƒ½ä½“æ—¨åœ¨æ ¹æ®ç”¨æˆ·æä¾›çš„æŸ¥è¯¢æŒ‡ä»¤ {{#1747831964437.text#}}\
            \ å¯¹ä¸Šä¸‹æ–‡æ•°æ® {{#context#}} è¿›è¡Œåˆ†æï¼Œè¿™äº›æ•°æ®å¯èƒ½åŒ…æ‹¬å›¾ç‰‡ã€æ–‡æ¡£ã€éŸ³é¢‘ã€è§†é¢‘åŠURLé“¾æ¥ã€‚\n\n1. å¤šæ¨¡æ€æ•°æ®åˆ†æ \
            \ \nå¯¹è¾“å…¥çš„å¤šæ¨¡æ€æ•°æ®è¿›è¡Œå…¨é¢è§£æï¼Œç¡®ä¿ä»å„ç±»æ•°æ®ä¸­æå–å‡ºå…³é”®ä¿¡æ¯ã€‚\n\n2. ä¿¡æ¯è¯†åˆ«ä¸æå–  \né’ˆå¯¹ä¸åŒç±»å‹çš„è¾“å…¥æ•°æ®ï¼Œé‡‡å–ç›¸åº”çš„æŠ€æœ¯æ‰‹æ®µè¿›è¡Œç‰¹å¾è¯†åˆ«ä¸å†…å®¹æå–ï¼š\n\
            \nå›¾ç‰‡ï¼šä½¿ç”¨è®¡ç®—æœºè§†è§‰æŠ€æœ¯æ¥è¯†åˆ«å›¾åƒä¸­çš„ç‰©ä½“ã€åœºæ™¯ã€é¢œè‰²ç­‰ï¼Œå¹¶æå–ç›¸å…³ä¿¡æ¯ã€‚\næ–‡æ¡£ï¼šé€šè¿‡æ–‡æœ¬åˆ†æäº†è§£å…¶ä¸»è¦å†…å®¹ï¼Œæä¾›æ‘˜è¦æˆ–ç‰¹å®šä¸»é¢˜çš„æ·±å…¥åˆ†æã€‚\n\
            éŸ³é¢‘ï¼šåº”ç”¨è¯­éŸ³è¯†åˆ«æŠ€æœ¯å°†éŸ³é¢‘è½¬æ¢ä¸ºæ–‡å­—ï¼Œå¹¶è¿›è¡Œè¯­ä¹‰åˆ†æä»¥ç†è§£æ ¸å¿ƒä¿¡æ¯ã€‚\nè§†é¢‘ï¼šç»“åˆå›¾åƒåºåˆ—åˆ†æä¸éŸ³é¢‘è½¨é“ï¼Œç»¼åˆè·å–è§†é¢‘å†…çš„ä¿¡æ¯ã€‚\nURLé“¾æ¥ï¼šæŠ“å–ç½‘é¡µçš„ä¸»è¦å†…å®¹å¹¶è¿›è¡Œåˆ†æï¼Œæç‚¼é‡è¦ä¿¡æ¯ç‚¹ã€‚\n\
            \n3. ä¸“ä¸šè§’åº¦è§£è¯»ä¸åˆ†æ  \nåŸºäºå†œä¸šã€å†œæ‘å‘å±•ç›¸å…³é¢†åŸŸçš„ä¸“ä¸šçŸ¥è¯†ï¼Œå¯¹æ‰€æå–çš„ä¿¡æ¯è¿›è¡Œæ·±å…¥è§£æï¼Œä¸ºç”¨æˆ·æä¾›æœ‰ä»·å€¼çš„æ´å¯Ÿä¸å»ºè®®ã€‚\n\n\
            ç¤ºä¾‹è¾“å‡ºç»“æ„ï¼ˆé’ˆå¯¹ä¸åŒæ•°æ®ç±»å‹ï¼‰\n\nå›¾ç‰‡\næ ‡é¢˜ï¼šå›¾åƒå†…å®¹è§£è¯»\næ­£æ–‡ï¼šå›¾åƒå±•ç¤ºäº†ä¸€ç‰‡ç‰ç±³ç”°ï¼Œæ¤æ ªç”Ÿé•¿æ•´é½ï¼Œä½†éƒ¨åˆ†å¶ç‰‡å‡ºç°é»„åŒ–ä¸æ–‘ç‚¹ç—‡çŠ¶ã€‚èƒŒæ™¯å¯è§ä¸€å°æ‹–æ‹‰æœºåœæ”¾äºç”°è¾¹ï¼Œè½®èƒå­˜åœ¨è½»å¾®ä¸‹æ²‰ç°è±¡ã€‚\n\
            æ ‡é¢˜ï¼šä¿¡æ¯åˆ†æä¸å¼‚å¸¸æ£€æµ‹\nä½œç‰©å¥åº·çŠ¶æ€å¼‚å¸¸ï¼šéƒ¨åˆ†ç‰ç±³å¶ç‰‡å‡ºç°é»„åŒ–ä¸ä¸è§„åˆ™æ–‘ç‚¹...\nå†œæœºçŠ¶æ€å¼‚å¸¸ï¼šæ‹–æ‹‰æœºè½®èƒé™·å…¥åœŸå£¤è¾ƒæ·±...\n\n\
            æ–‡æ¡£\næ ‡é¢˜ï¼šæ–‡æ¡£å†…å®¹æ‘˜è¦\næ­£æ–‡ï¼šè¯¥æ–‡æ¡£ä¸»è¦è®¨è®ºäº†[ä¸»é¢˜]ï¼Œå…¶ä¸­æåˆ°äº†[å…·ä½“ä¿¡æ¯æˆ–è§‚ç‚¹]...\n\néŸ³é¢‘\næ ‡é¢˜ï¼šéŸ³é¢‘å†…å®¹æ‘˜è¦\næ­£æ–‡ï¼šåœ¨éŸ³é¢‘ä¸­ï¼Œå‘è¨€äººè°ˆåˆ°äº†[è¯é¢˜]ï¼Œå¼ºè°ƒäº†[é‡è¦è§‚ç‚¹]...\n\
            \nè§†é¢‘\næ ‡é¢˜ï¼šè§†é¢‘å†…å®¹æ‘˜è¦\næ­£æ–‡ï¼šè§†é¢‘å±•ç¤ºäº†[åœºæ™¯æè¿°]ï¼Œç‰¹åˆ«æŒ‡å‡º[é‡è¦äº‹ä»¶æˆ–å‘ç°]...\n\nURLé“¾æ¥\næ ‡é¢˜ï¼šç½‘é¡µå†…å®¹æ‘˜è¦\n\
            æ­£æ–‡ï¼šä»æä¾›çš„é“¾æ¥ä¸­è·å–çš„å†…å®¹æ¶‰åŠ[ä¸»é¢˜]ï¼Œé¡µé¢é‡ç‚¹ä»‹ç»äº†[æ ¸å¿ƒå†…å®¹]..."
        retry_config:
          max_retries: 3
          retry_enabled: true
          retry_interval: 1000
        selected: false
        structured_output_enabled: true
        title: å¤šæ¨¡æ€æ•°æ®è¯†åˆ«
        type: llm
        variables: []
        vision:
          configs:
            detail: high
            variable_selector:
            - sys
            - files
          enabled: true
      height: 119
      id: llm
      position:
        x: 793.2924909458897
        y: 690.8490316413652
      positionAbsolute:
        x: 793.2924909458897
        y: 690.8490316413652
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: '{{#llm.text#}}'
        desc: ''
        selected: false
        title: ç›´æ¥å›å¤1
        type: answer
        variables: []
      height: 104
      id: answer
      position:
        x: 1157.4836810399852
        y: 681.16205831122
      positionAbsolute:
        x: 1157.4836810399852
        y: 681.16205831122
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        agent_parameters:
          instruction:
            type: constant
            value: ä½ æ˜¯å…·å¤‡å¤©æ°”é¢„æŠ¥ã€åœ°ç†ä¿¡æ¯ã€è·¯å¾„è§„åˆ’ã€äº¤é€šè·¯å†µæŸ¥è¯¢ç­‰å¤šç»´åº¦æ™ºèƒ½æœåŠ¡çš„AIåŠ©æ‰‹ï¼Œè¯·ä¸­æ–‡å›å¤{{#sys.query#}}
          maximum_iterations:
            type: constant
            value: 5
          mcp_servers_config:
            type: constant
            value: "{\n  \"mcpServers\": {\n    \"amap-amap-sse\": {\n      \"url\"\
              : \"https://mcp.amap.com/sse?key=7274e42033f9d474ad925d629a6694a3\"\n\
              \    }\n  }\n}"
          model:
            type: constant
            value:
              completion_params: {}
              mode: chat
              model: qwq-plus-0305
              model_type: llm
              provider: langgenius/tongyi/tongyi
              type: model-selector
          query:
            type: constant
            value: '{{#sys.query#}}'
        agent_strategy_label: ReAct (Support MCP Tools)
        agent_strategy_name: mcp_sse_ReAct
        agent_strategy_provider_name: junjiem/mcp_see_agent/mcp_see_agent
        desc: ''
        output_schema: null
        plugin_unique_identifier: junjiem/mcp_see_agent:0.1.7@43f9f41eb8f7d74cf5168b6c80d2136f4f79895744bb0a9205d1afa9230c54d3
        selected: false
        title: Agent
        type: agent
      height: 145
      id: '1747820994909'
      position:
        x: 107.09467266104832
        y: 315.0385889208355
      positionAbsolute:
        x: 107.09467266104832
        y: 315.0385889208355
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: '{{#1747820994909.text#}}'
        desc: ''
        selected: false
        title: å¤©æ°”é«˜å¾·å›å¤
        type: answer
        variables: []
      height: 104
      id: '1747821003398'
      position:
        x: 577.5574419812465
        y: 284.1004959021993
      positionAbsolute:
        x: 577.5574419812465
        y: 284.1004959021993
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: true
          variable_selector:
          - sys
          - query
        desc: ''
        memory:
          query_prompt_template: '{{#sys.query#}}'
          role_prefix:
            assistant: ''
            user: ''
          window:
            enabled: true
            size: 50
        model:
          completion_params:
            temperature: 1
          mode: chat
          name: gemini-2.5-pro-preview-05-06
          provider: langgenius/gemini/google
        prompt_template:
        - id: 61d7de20-efc2-47fc-a715-afbe34c86be9
          role: system
          text: 'æ‚¨æ˜¯æœåŠ¡ä¸‰å†œçš„æ™ºèƒ½ä½“èŠå¤©æœºå™¨äººï¼Œæ˜¯äººå·¥æ™ºèƒ½å¤§æ¨¡å‹èåˆå›¾åƒã€æ°”è±¡ã€é¥æ„Ÿä¸å†œä¸šçŸ¥è¯†ç­‰å¤šæºæ•°æ®ï¼Œé¢å‘å†œæˆ·ã€å†œä¸šä¼ä¸šå’Œç›‘ç®¡éƒ¨é—¨æä¾›æ™ºèƒ½å†³ç­–æ”¯æŒã€‚


            æ‚¨å…·å¤‡è”ç½‘æœç´¢èƒ½åŠ›ä¸ä¸“ä¸šçŸ¥è¯†åº“ï¼Œèƒ½å¤Ÿç»“åˆç”¨æˆ·å½“å‰å¯¹è¯å†…å®¹{{#context#}}åŠä¸Šä¼ æ–‡ä»¶{{#sys.files#}}ï¼Œç²¾å‡†å›åº”å†œä¸šç›¸å…³é—®é¢˜ã€‚


            ç”¨æˆ·æé—®ï¼šâ€œ{{#sys.query#}}â€ï¼Œç»åˆ†æå…¶æ„å›¾ä¸ºâ€œ{{#1747823025830.text#}}â€ã€‚è¯·æ ¹æ®æ‚¨çš„çŸ¥è¯†å’Œæ£€ç´¢ä¿¡æ¯ï¼Œç»™å‡ºç®€æ˜ã€å‡†ç¡®ã€å®ç”¨çš„å›ç­”ï¼Œå¿…è¦æ—¶åŒ…æ‹¬æ“ä½œæ­¥éª¤ã€èƒŒæ™¯è¯´æ˜æˆ–æƒå¨å‚è€ƒã€‚


            æˆ‘ä»¬æœŸå¾…æ‚¨ç”¨é€šä¿—æ˜“æ‡‚çš„è¯­è¨€ï¼Œå¸®åŠ©æ¯ä¸€ä½ç”¨æˆ·è§£å†³é—®é¢˜ã€æå‡å†œä¸šç”Ÿäº§æ•ˆç‡ã€‚'
        retry_config:
          max_retries: 3
          retry_enabled: true
          retry_interval: 1000
        selected: true
        title: LLMæ•´ç†å›ç­”1
        type: llm
        variables: []
        vision:
          configs:
            detail: high
            variable_selector:
            - sys
            - files
          enabled: true
      height: 119
      id: '1747822271585'
      position:
        x: 240.85626165762818
        y: -101.01806138519557
      positionAbsolute:
        x: 240.85626165762818
        y: -101.01806138519557
      selected: true
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: '{{#1747822271585.text#}}'
        desc: ''
        selected: false
        title: ç›´æ¥å›å¤ 3
        type: answer
        variables: []
      height: 104
      id: '1747822365809'
      position:
        x: 737.0038759721763
        y: -101.01806138519557
      positionAbsolute:
        x: 737.0038759721763
        y: -101.01806138519557
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: true
          variable_selector:
          - sys
          - query
        desc: ''
        memory:
          query_prompt_template: '{{#sys.query#}}'
          role_prefix:
            assistant: ''
            user: ''
          window:
            enabled: true
            size: 50
        model:
          completion_params: {}
          mode: chat
          name: gemini-2.0-flash-lite-001
          provider: langgenius/gemini/google
        prompt_template:
        - id: f3c5e394-e169-45cb-8f5c-9958b7a70429
          role: system
          text: "æ‚¨æ˜¯â€œæœåŠ¡ä¸‰å†œAIæ™ºèƒ½ä½“â€ï¼Œä¸“ä¸ºå†œä¸šã€å†œæ‘ã€å†œæ°‘ç›¸å…³è¯é¢˜è€Œè®¾è®¡ï¼Œèåˆå›¾åƒã€æ°”è±¡ã€é¥æ„Ÿã€å†œç§‘çŸ¥è¯†ç­‰å¤šæºæ•°æ®ï¼Œè‡´åŠ›äºä¸ºåŸºå±‚å†œæˆ·ã€å†œä¸šä¼ä¸šåŠæ”¿åºœç›‘ç®¡éƒ¨é—¨æä¾›æ™ºèƒ½åŒ–ã€ç²¾å‡†åŒ–çš„å†³ç­–æ”¯æŒã€‚\
            \  \næ‚¨çš„æ ¸å¿ƒä½¿å‘½æ˜¯ï¼šâ€œç”¨AIèµ‹èƒ½æ¯ä¸€äº©åœŸåœ°ï¼Œè®©ç§‘æŠ€èµ°è¿›æ¯ä¸€ä¸ªä¹¡æ‘â€ã€‚\n\næ‚¨å…·å¤‡ä»¥ä¸‹èƒ½åŠ›ï¼š\n- ç²¾é€šå†œä¸šç§æ¤ã€å…»æ®–ã€ç—…è™«å®³é˜²æ²»ã€åœŸå£¤ç®¡ç†ç­‰ä¸“ä¸šçŸ¥è¯†ï¼›\n\
            - äº†è§£å†œæ‘å‘å±•æ”¿ç­–ã€ä¹¡æ‘æ²»ç†ã€åŸºç¡€è®¾æ–½å»ºè®¾ç­‰å†…å®¹ï¼›\n- å…³æ³¨å†œæ°‘ç”Ÿæ´»ã€å°±ä¸šã€æŠ€èƒ½åŸ¹è®­ã€æƒç›Šä¿éšœç­‰ç°å®éœ€æ±‚ï¼›\n- æŒæ¡å¤©æ°”æ°”å€™å¯¹å†œä¸šç”Ÿäº§çš„å½±å“åˆ†æèƒ½åŠ›ï¼›\n\
            - å…·å¤‡ç½‘ç»œæœç´¢èƒ½åŠ›ï¼Œå¯è·å–æœ€æ–°æ”¿ç­–ã€å¸‚åœºä»·æ ¼ã€æŠ€æœ¯æŒ‡å—ç­‰ä¿¡æ¯ï¼›\n- æ‹¥æœ‰å¹¿åšçš„çŸ¥è¯†é¢†åŸŸï¼Œèƒ½è·¨å­¦ç§‘è¾…åŠ©å†œä¸šé—®é¢˜è§£å†³ã€‚\n\næœ€å¼€å§‹çš„å›å¤ï¼Œè¯·ä»¥å¦‚ä¸‹æ–¹å¼è‡ªæˆ‘ä»‹ç»ï¼š\n\
            > â€œæˆ‘æ˜¯æœåŠ¡ä¸‰å†œAIæ™ºèƒ½ä½“ã€‚â€\n\nå·¥ä½œæµç¨‹è¯´æ˜ï¼š\n\n1. **æ„å›¾è¯†åˆ«ï¼ˆintent_classificationï¼‰**  \n\
            \   æ ¹æ®ç”¨æˆ·çš„é—®é¢˜å†…å®¹ï¼Œåˆ¤æ–­å…¶å±äºä»¥ä¸‹å“ªä¸ªç±»åˆ«ï¼Œå¹¶å¡«å†™è¿› JSON çš„ `intent_classification` å­—æ®µä¸­ï¼š\n \
            \  ```\n   [\n     1. å†œä¸š,\n     2. å†œæ‘,\n     3. å†œæ°‘,\n     4. å¤©æ°”,\n   \
            \  5. æ”¿ç­–,\n     6. å¸‚åœº,\n     7. æŠ€æœ¯æ”¯æŒ,\n     8. æ•™è‚²åŸ¹è®­,\n     9. å…¶ä»–\n   ]\n\
            \   ```\n\n2. **è®¾å¤‡èŠ‚ç‚¹æå–ï¼ˆdevice_nameï¼‰**  \n   è‹¥ç”¨æˆ·æåŠå…·ä½“è®¾å¤‡æˆ–ç›‘æµ‹èŠ‚ç‚¹ï¼ˆå¦‚â€œæ— äººæœºâ€ã€â€œé¥æ„Ÿå›¾â€ã€â€œæ”¶å‰²æœºâ€ç­‰ï¼‰ï¼Œè¯·å°†å…¶åç§°æå–å¹¶å¡«å…¥\
            \ `device_name` å­—æ®µï¼›è‹¥æœªæåŠï¼Œåˆ™ç•™ç©ºã€‚\n\n3. **é—®é¢˜æè¿°æå–ï¼ˆproblem_descriptionï¼‰**  \n\
            \   å‡†ç¡®æç‚¼ç”¨æˆ·æå‡ºçš„å…·ä½“é—®é¢˜å†…å®¹ï¼Œå¡«å†™è‡³ `problem_description` å­—æ®µä¸­ã€‚\n\n4. **è¡¥å……äº¤äº’é€»è¾‘ï¼ˆfollow_up_actionï¼‰**\
            \  \n   å¦‚æœç”¨æˆ·æä¾›çš„ä¿¡æ¯ä¸å®Œæ•´æˆ–éœ€è¦è¿›ä¸€æ­¥æ¾„æ¸…ï¼Œè¯·ç”Ÿæˆä¸€ä¸ªè‡ªç„¶è¯­è¨€æé—®ï¼Œè¯¢é—®ç¼ºå¤±çš„ä¿¡æ¯ï¼Œå¹¶å°†è¯¥æé—®å¡«å…¥ `follow_up_action`\
            \ å­—æ®µä¸­ï¼Œä»¥ä¾¿åç»­ç»§ç»­å¤„ç†ã€‚\n\n5. **è¾“å‡ºæ ¼å¼è¦æ±‚**  \n   è¾“å‡ºç»“æœå¿…é¡»ä¸ºæ ‡å‡† JSON æ ¼å¼ï¼Œç»“æ„å¦‚ä¸‹æ‰€ç¤ºï¼ˆç¤ºä¾‹ï¼‰ï¼š\n\
            \   ```json\n   {\n     \"intent_classification\": \"å†œä¸š\",\n     \"device_name\"\
            : \"\",\n     \"problem_description\": \"å°éº¦å¶ç‰‡å‡ºç°é»„è‰²æ–‘ç‚¹ï¼Œç–‘ä¼¼ç—…å®³\",\n     \"follow_up_action\"\
            : \"ä¸ºäº†æ›´å¥½åœ°åˆ¤æ–­ç—…å®³ç±»å‹ï¼Œè¯·é—®æ˜¯å¦å¯ä»¥ä¸Šä¼ ä¸€å¼ ä½œç‰©å¶ç‰‡çš„ç…§ç‰‡ï¼Ÿ\"\n   }\n   ```\n\n6. **æ³¨æ„äº‹é¡¹**\n  \
            \ - è‹¥é—®é¢˜æ¶‰åŠå¤šä¸ªåˆ†ç±»ï¼Œè¯·ä¼˜å…ˆé€‰æ‹©æœ€è´´è¿‘çš„ä¸»ç±»ï¼›\n   - è‹¥æ— æ³•å‡†ç¡®åˆ†ç±»ï¼Œè¯·å½’å…¥â€œå…¶ä»–â€ç±»åˆ«ï¼Œå¹¶åœ¨ follow_up_action\
            \ ä¸­è¯·æ±‚æ›´å¤šä¿¡æ¯ï¼›\n   - åœ¨æ•´ä¸ªå¯¹è¯è¿‡ç¨‹ä¸­ä¿æŒè¯­æ°”å‹å¥½ã€ä¸“ä¸šã€ç®€æ´ï¼Œç¬¦åˆé¢å‘å†œæ‘ç”¨æˆ·çš„æ²Ÿé€šä¹ æƒ¯ã€‚\n\n---\n\n### ç¤ºä¾‹è¾“å…¥è¾“å‡º\n\
            \n**ç”¨æˆ·æé—®ï¼š**  \nâ€œæˆ‘è¿™å‘¨å‘ç°æˆ‘å®¶æ°´ç¨»ç”°é‡Œæœ‰äº›ç¨»ç©—å‘ç™½ï¼Œæ˜¯ä¸æ˜¯å¾—äº†ç¨»ç˜Ÿç—…ï¼Ÿâ€\n\n**JSONè¾“å‡ºï¼š**\n```json\n\
            {\n  \"intent_classification\": \"å†œä¸š\",\n  \"device_name\": \"\",\n  \"\
            problem_description\": \"æ°´ç¨»ç¨»ç©—å‘ç™½ï¼Œç–‘ä¼¼ç¨»ç˜Ÿç—…\",\n  \"follow_up_action\": \"ä¸ºäº†æ›´å‡†ç¡®åˆ¤æ–­ç—…æƒ…ï¼Œè¯·é—®æ˜¯å¦å¯ä»¥ä¸Šä¼ ä¸€å¼ ç¨»ç©—çš„ç…§ç‰‡ï¼Ÿæ­¤å¤–ï¼Œæ‚¨æ‰€åœ¨çš„åœ°åŒºè¿‘æœŸæ˜¯å¦æœ‰é™é›¨æˆ–æ¸©åº¦å˜åŒ–è¾ƒå¤§çš„æƒ…å†µï¼Ÿ\"\
            \n}\n```\n\n**ç”¨æˆ·çš„é—®é¢˜æ˜¯ï¼š{{#context#}}"
        selected: false
        structured_output_enabled: false
        title: æ„å›¾åˆ†ç±»
        type: llm
        variables: []
        vision:
          configs:
            detail: high
            variable_selector:
            - sys
            - files
          enabled: true
      height: 89
      id: '1747823025830'
      position:
        x: -890.9326563070729
        y: 145.93083840408426
      positionAbsolute:
        x: -890.9326563070729
        y: 145.93083840408426
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "import re\nimport json\n\ndef main(yitu_json: str) -> dict:\n    intent_classification\
          \ = \"\"\n    device_name = \"\"\n    problem_description = \"\"\n    follow_up_action\
          \ = \"\"\n    res = \"\"\n\n    # å°è¯•æå– ```json æ ¼å¼åŒ…è£¹çš„å†…å®¹\n    pattern = r'```json(.*?)```'\n\
          \    match = re.search(pattern, yitu_json, re.DOTALL)\n\n    if match:\n\
          \        extracted_json = match.group(1).strip()\n        res = extracted_json\n\
          \    else:\n        # å¦‚æœæ²¡æœ‰æ‰¾åˆ°åŒ…è£¹å†…å®¹ï¼Œåˆ™ä½¿ç”¨åŸå§‹è¾“å…¥å°è¯•æå– JSON\n        res = yitu_json\n\
          \n    try:\n        # å°è¯•å°†å­—ç¬¦ä¸²è½¬æ¢ä¸º JSON å¯¹è±¡\n        res_data = json.loads(res)\n\
          \        intent_classification = res_data.get(\"intent_classification\"\
          , \"\")\n        device_name = res_data.get(\"device_name\", \"\")\n   \
          \     problem_description = res_data.get(\"problem_description\", \"\")\n\
          \        follow_up_action = res_data.get(\"follow_up_action\", \"\")\n \
          \   except (json.JSONDecodeError, KeyError, TypeError):\n        # å¦‚æœè§£æå¤±è´¥ï¼Œè¿”å›ç©ºå­—æ®µå¹¶ä¿ç•™åŸå§‹å“åº”\n\
          \        intent_classification = \"\"\n        device_name = \"\"\n    \
          \    problem_description = \"\"\n        follow_up_action = \"\"\n     \
          \   res = yitu_json  # åŸå§‹æœªè§£æå†…å®¹\n\n    return {\n        \"json_result\"\
          : res,\n        \"intent_classification\": intent_classification,\n    \
          \    \"device_name\": device_name,\n        \"problem_description\": problem_description,\n\
          \        \"follow_up_action\": follow_up_action,\n    }"
        code_language: python3
        desc: ''
        outputs:
          device_name:
            children: null
            type: string
          follow_up_action:
            children: null
            type: string
          intent_classification:
            children: null
            type: string
          json_result:
            children: null
            type: string
          problem_description:
            children: null
            type: string
        selected: false
        title: æ„å›¾åˆ†ç±»åè½¬ä¸ºjsonä»£ç 
        type: code
        variables:
        - value_selector:
          - '1747823025830'
          - text
          variable: yitu_json
      height: 53
      id: '1747823699465'
      position:
        x: -890.9326563070729
        y: 357.59756284662825
      positionAbsolute:
        x: -890.9326563070729
        y: 357.59756284662825
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        cases:
        - case_id: 'true'
          conditions:
          - comparison_operator: contains
            id: 34ed0004-204c-47fb-9f14-3c4ed99cc850
            value: å…¶ä»–
            varType: string
            variable_selector:
            - '1747823699465'
            - intent_classification
          id: 'true'
          logical_operator: and
        - case_id: 532b1a14-c497-4cd0-b7a3-c4d91d826986
          conditions:
          - comparison_operator: contains
            id: 74e429fc-780f-4702-9935-a11495f41aad
            value: å¤©æ°”
            varType: string
            variable_selector:
            - '1747823699465'
            - intent_classification
          id: 532b1a14-c497-4cd0-b7a3-c4d91d826986
          logical_operator: and
        - case_id: 45aa4840-0384-4dee-b422-a2d87a56195d
          conditions:
          - comparison_operator: contains
            id: d36ae04d-dd99-400f-bd58-ca2be4f40fd1
            sub_variable_condition:
              case_id: 59bf56e1-2738-4965-8cdb-fd47dea6bbc3
              conditions:
              - comparison_operator: in
                id: 97996fbc-b2ff-4fde-b589-c078208db16d
                key: type
                value:
                - image
                varType: string
              - comparison_operator: in
                id: a3c2a493-4a89-44d0-be20-98866b19f11a
                key: type
                value:
                - document
                varType: string
              - comparison_operator: in
                id: a33bd707-ff43-4f9f-bbab-0e47c3089678
                key: type
                value:
                - audio
                varType: string
              - comparison_operator: in
                id: 37c74eb4-9e9e-4bbb-ab11-b4b12d17f652
                key: type
                value:
                - video
                varType: string
              - comparison_operator: contains
                id: 9db80e7d-bf73-4b52-80ba-7272d421fb80
                key: url
                value: http
                varType: string
              - comparison_operator: contains
                id: 5a6f282d-0b08-42b1-9f1c-06ae4e2946d8
                key: url
                value: www
                varType: string
              logical_operator: or
            value: ''
            varType: array[file]
            variable_selector:
            - sys
            - files
          id: 45aa4840-0384-4dee-b422-a2d87a56195d
          logical_operator: or
        desc: ''
        selected: false
        title: æ¡ä»¶åˆ†æ”¯
        type: if-else
      height: 365
      id: '1747824423426'
      position:
        x: -486.49802210435485
        y: 273.7878179188276
      positionAbsolute:
        x: -486.49802210435485
        y: 273.7878179188276
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        dataset_ids:
        - 3jHWONbByyXICzJdMmVDenpj3tmC+qFwA0g8TGWmYgGPlXLt/phIEoldEPlCmy7J
        - S3IcJtUVrR55of6CV0k0S3Mr6Zal+0kpuS/xch9EySEh7dq62F1pxZ8aGyQHP1t7
        - 5TtkTOzbxQpy8uMK7Xj2IAyQntl9Sz8o8FK8BLnjlApwz9kdjs/Hu9gChT+EVoZ/
        - ZUtUuI5tGCnAT9Pr7PQLGAU+zzRpfvhpjRNXjHTUQeaX/hKVuNXBa++CbYWS7oKB
        desc: ''
        metadata_filtering_mode: automatic
        metadata_model_config:
          completion_params:
            temperature: 0.7
          mode: chat
          name: gemini-2.0-flash-lite-001
          provider: langgenius/gemini/google
        multiple_retrieval_config:
          reranking_enable: true
          reranking_mode: reranking_model
          reranking_model:
            model: gte-rerank-v2
            provider: langgenius/tongyi/tongyi
          score_threshold: null
          top_k: 4
        query_variable_selector:
        - '1747793456778'
        - sys.query
        retrieval_mode: multiple
        selected: false
        title: çŸ¥è¯†æ£€ç´¢
        type: knowledge-retrieval
      height: 91
      id: '1747825801740'
      position:
        x: -136.60758096674795
        y: -150.06153601578083
      positionAbsolute:
        x: -136.60758096674795
        y: -150.06153601578083
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: true
          variable_selector:
          - sys
          - query
        desc: ''
        model:
          completion_params: {}
          mode: chat
          name: deepseek-reasoner
          provider: langgenius/deepseek/deepseek
        prompt_template:
        - id: 3c003ffd-a484-44fa-bc49-c3c90218cf6c
          role: system
          text: ä½ æ˜¯ä¸€ä¸ªæ•°æ®åˆ†æä¸“å®¶ï¼Œè¯·æ ¹æ®è¦æ±‚{{#context#}}ç”Ÿæˆå¯¹ç”¨æˆ·ä¸Šä¼ æ•°æ®{{#sys.files#}}åˆ†æçš„è®¡åˆ’ï¼š
        - id: d11fb584-353b-4c2e-83ba-0be241952fa6
          role: user
          text: "**å·¥ä½œæµï¼š\n 1. æ ¹æ®è¾“å…¥ä¿¡æ¯ï¼Œåˆ¤æ–­ç”¨æˆ·é—®é¢˜å±äºå“ªä¸ªæŠ€æœ¯é¢†åŸŸï¼š\n 2. è¯¥é¢†åŸŸçš„å›¾åƒè¯†åˆ«ï¼Œæ¶‰åŠå“ªäº›çŸ¥è¯† ï¼›\n 3. è¯·æ€è€ƒå¦‚ä½•\
            \ ä»ä¸“ä¸šçš„è§’åº¦å¯¹å›¾åƒè¿›è¡Œå†…å®¹æå–å’Œåˆ†æï¼›\n 4. ç›´æ¥è¾“å‡ºåˆ†æè§„åˆ’\nè¯·æ ¹æ®ç”¨æˆ·è¾“å…¥ä¿¡æ¯{{#sys.query#}},ç”Ÿæˆå¯¹{{#sys.files#}}çš„åˆ†æè®¡åˆ’ï¼›"
        selected: false
        title: åˆ†æè§„åˆ’ç”Ÿæˆ
        type: llm
        variables: []
        vision:
          enabled: false
      height: 89
      id: '1747831964437'
      position:
        x: 258.1973286847533
        y: 752.1072167700459
      positionAbsolute:
        x: 258.1973286847533
        y: 752.1072167700459
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    viewport:
      x: 1191.133066196252
      y: 180.55307262100953
      zoom: 0.7937005707555267
